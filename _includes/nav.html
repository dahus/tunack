{% assign tocTemplateName = site.data.toc-mapping[page.version] %}
{% if tocTemplateName == null %}
{% assign tocTemplateName = 'default' %}
{% endif %}
{% assign toc = site.data[tocTemplateName].toc %}

<div class="sidebar">
  <div class="pt-50">
    <div class="widget widget_categories">
      <ul>
        {% for item in toc %}
        <li><a href="#"> {{ item.title }} </a>
          <ul>
            {% for entry in item.subfolderitems %}
            <li>
              {% if entry.github %}
              <a href="{{ entry.url | prepend: page.gh }}" target="_blank">{{ entry.page }}</a>
              {% else %}
              <a href="{{ entry.url | prepend: page.version | prepend: "/" | relative_url }}">{{ entry.page }}</a>
              {% endif %}
            </li>
            {% endfor %}
          </ul>
        </li>
        {% endfor %}
        <li><a href="">Versions</a>
          <ul>
            <li><a href="{{ master_url }}">master</a></li>
            {% for version in site.versions %}
            {% assign new_version = version | prepend: '/' | append: '/' %}
            <li><a href="{{ page.url | replace: original_version, new_version | relative_url }}">{{ version }}</a></li>
            {% endfor %}
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>